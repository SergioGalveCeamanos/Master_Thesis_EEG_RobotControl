function [Y,Xf,Af] = myNeuralNetworkFunction_v1(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 22-Jun-2018 14:46:44.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 15xQ matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [0.183225331547586;0.152482266854751;0.270854340636813;0.401188452577602;0.32625231681875;0.202003537375642;0.419107094411115;0.488442751860751;0.457929380681626;0.349595399446824;0.161739207424212;0.244198680885441;0.265163824246811;0.46347991188515;0.329648611032621];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.99993272313704328891;-0.29068391348576089195;4.0674394449160571341;-0.6687867290453010094;0.15182297521677762253;-0.26625994596892110788;-1.7875586420040416868;-1.757525406780426902;-5.7203773746420303326;-0.20221667653877486992;0.84767305005123216866;-2.6717832338469129638;0.26040263547986258752;1.085635766495502974;-0.27964486440916025423;1.3188276491563530879;0.37778830135605934171;-7.0933798401640268949;1.2192285317554845125;-0.65997873253912642255;1.2259493117968438547;7.4187981883938309835;1.4522558693605946978;0.87709608354856172241;4.1345967567949379884;-0.52884333549724327206;0.35858264014265095465;-1.1146365884411770786;-1.0463999603146700856;-1.1346995502205843298;2.5461755825134257947;-1.1090026959686303254;1.0066892346833860028;-0.168548796830550629;0.4587877465390175491;-0.94092672178818526074;-0.76176321074205877171;0.7342137028016170186;2.8228448834217969576;0.046566353689058773146;0.89505316878076768283;-0.73555848761129039026;2.0357281630250114723;1.0998290532135872599;-1.4108402265870576553;-1.9893982281362838638;0.72107979481283912548;1.2863619890338604534;-1.0417083253090937411;-0.40078916411165477207;1.9247836745401869507;-0.2719217739881419349;-1.0381528050480148817;-2.3168109619369876562;-0.40088920245392695163;1.6862846361430359199;2.1489526484160839104;0.30671939514692175832;-4.2757366076868095206;0.14913256919709841353;0.87689343605692537942;2.9456272994013654731;-0.1041566438551948387;1.4838432561481058602;1.8191143285762751969;-0.35079714034215786489;9.7160453353340070493;3.4527522296601298457;3.4773871335039228114;1.9184682247410260736;1.5952907092293036051;-1.9625554110790626172;-0.78680452912508747065;2.974676111158185865;0.61665572354092512697;-2.3914598957827282177;-2.0704140425872288311;0.8838708596725749489;0.85079536151147838741;1.9420985027774715359;-0.051204825810529805419;-1.0270093394323400737;-2.7232549250671604923;1.2171572509072297041;3.9264375519994132446;0.63836547756351802452;1.3198785752708299679;-8.3768011312020771442;0.67242070171555945457;4.995016079061131542;0.32193125764699920266;2.5541661122951206941;4.1037977154781843936;-1.0074708585582636822;-1.4003772690659515021;0.25552458870695027304;-1.5190076316051408511;-1.7542983831227865199;-13.520771093237172522;7.5935773516489222246];
IW1_1 = [0.13248605978290375895 2.0862678318684477752 1.2085883702905797499 1.1568830177272635407 -0.26942365962921022149 1.04425132425774847 0.18499225459018675544 -0.91223644764473132973 0.26823018491317401901 -0.68898118047280876297 -3.662738072334033923 -0.78666615264983563716 -1.7337501389015557152 0.053050814161910181399 0.28430282039225168722;-1.1377056267899325892 -0.8142655603407746856 -0.34520429315266187853 -1.1877981408028073229 0.42975797654250980084 0.14599353134973902524 1.1805422162269980646 -1.034028002012621128 2.6979382628222539076 0.1696174210629148027 -0.48431826886196888138 -1.5939461567317882995 0.16764117900330011146 2.4338616994415738226 -0.49689455789191339097;1.8341815848139988443 1.8202785299896151461 0.97291561246387592288 0.80486100475883881611 0.16593131849334041839 -1.1499355164725275635 -0.20212767074516985177 0.31035420792075857355 -0.44471221397589361102 -0.1298366646816632719 0.95104409114725507735 -0.017493213871641932755 0.65253904337458268348 0.85966810805120275063 -0.30187001939832280861;0.22956757674179167905 -2.7605537105561053224 0.20197858484058026085 1.0248617012168725893 -1.0477903921181819236 0.092776741803825751864 -0.71974035720967610708 1.468402934630059109 1.4100546208041659924 -0.37378240500204440444 0.11810531117067682438 -1.0059978166277849798 -0.26563689279135499488 2.2637208269210842282 -1.1950459593523210522;-0.040148062425926174523 -1.7281499529888071365 -1.6113484115247858064 0.82491567010112887282 1.1563631826411351344 -0.6073819901527586218 0.36258394268663601823 1.1995658359041962981 -0.32610924678757996498 -1.8691551208111765181 0.34287076539960120725 0.60126559539780521924 2.2516048483429877969 -0.67312495336598177076 -0.21702549543993202019;-1.1255881411097814482 0.66740451309213533193 -0.94194667820856259333 1.8083745032162430455 -0.46740423168681127786 1.3369597860481907681 -0.77003521294858245927 0.63303357052148356843 -0.13814764882214675135 1.2233089550552989078 -0.30351161293959594278 0.6109571030238662992 0.49801919879424122461 -0.41225166863963796926 -0.49801057852906660539;-0.14651742208058099459 -0.80554757370111396142 0.078879263987312042694 -0.19733152206278756213 1.5598684858216900206 2.9247673403675831239 1.4975710171238372226 0.054324231462575825469 1.3054908510394189758 0.74041695429799725403 -3.2405640596502283124 -2.2037802415644152099 -1.4495056048846537422 -1.0202903957116176148 -1.5510304687939615587;0.15128970554818216288 -0.65524532232674070897 0.2548540283384341798 -0.52118248354982898984 -0.42544318751986726079 0.65630627707701882922 -1.4172459835654653837 -0.19286661151468428854 1.7258761639179291958 -0.34829950082869315375 0.15709955596035984904 -1.0624340251328729945 -1.0004681741986216625 0.68086843373891903219 -0.050841768694645926574;-1.6849356662272714225 1.3944645220127735996 0.43251702015174542382 0.47351876980385965155 -1.0387523217256191543 -1.0642812264424539315 -0.88456554582526680797 -0.71977133930846837195 -0.80380587050623164558 -0.76498969184039322666 -2.0805425627865763438 1.5247653101999136815 0.16146097960705743657 -0.79673322513053845828 -0.38250896193715766547;0.024839902283261043603 -0.21077852668010835235 1.1554665325521964458 1.6942956513346871805 -1.318186222764647253 0.8777784139913167305 -0.78889930021210763478 -0.57853731502978467116 -0.29300735384564685626 -1.9715522242447636181 1.0809966830119404069 -0.69718447050084597638 0.14248365538569210398 0.89284132691268713877 -1.2480532594167281779;0.28947325212420793594 0.57947070977855130725 0.58928173402695549488 -0.8922213282648047139 0.51291759559784044775 -0.30657420823850567437 0.87715509727284202146 -1.6685124727384912369 -1.9250895707712893934 0.4378016880395053656 -1.3272875341683885164 -0.07032269019500461682 2.295562620864792347 0.44950456020754286923 1.3425284231753251696;-0.04136069994968837038 0.48010033058109102821 -0.84600616623941782279 -0.63983663056236650402 1.3269548855769341955 1.083251894310420127 0.60229897416393241016 -0.44724791877290931419 -0.12540814581842932296 -0.98731621447068473874 0.19623379491800482799 -0.90817744759630747442 -0.79891765907304823635 -0.38053289774177401217 -1.2091156690645770144;-0.49633097428494127312 -1.852077493032257216 -0.44126298525413193419 2.1195495295994999374 1.7150425485531572978 0.12036113968884476488 2.6828329071684051677 1.874299828529375489 -1.4749271552400220475 -1.1807540831262055558 0.013474002546932399224 0.55285400547835994445 -1.614197888798945657 -1.0229508837624052831 0.23394053459174987686;-0.62951249893729421814 -1.5873159539080239355 -0.93409304721384600612 1.8372020589564175275 1.9846044581976658439 0.26651656330779199822 0.06238229966366758833 2.4638346613686379349 -0.97528479894142594553 0.50638513854795852431 -0.31006336673744816501 0.60511710803971396899 0.21584897768571797982 -1.4961034428021044995 -0.17862061667561462963;0.39212387467145370934 0.50753971654812035652 -0.28327609652333063384 1.2339682168739196655 -1.3880180164823650024 -1.6137537403477195674 1.5622174642261690281 -0.63308710555609715165 2.5518847283786016966 -0.51204395628976351329 1.2466005287441994653 -1.2261325291591489428 -3.1532227492557503012 0.76384690688686973647 0.26750130752205669715;-1.393089129126471537 0.81290180402893597034 -1.0763176611004274807 0.33657534039546571636 1.4494980489959856662 -1.0484071215642760677 1.0338088288887359312 1.0910083336547118371 3.751817697774436855 0.59796391699805118147 1.0613871340128242515 -1.1421198414664148757 -0.46508171621482496949 -0.72181973672755872506 -1.3037884032926536637;0.39910056253869774512 2.4758595714794857656 -0.43689396776061584227 1.3046236372060016073 -0.38888996375074158518 -2.5446245190059118002 -1.0543841593568028525 0.16695204778347288999 -0.5464682159687667129 0.80786680945865407821 0.33828952415824420363 0.15790519890646972923 0.8972584293214895812 0.039276889774277366774 -0.83621344069066316784;0.33486994897372701629 -0.84998044622728374797 -0.75745406750054622425 -1.0175285554982094194 -0.33696558970604506555 -0.012059860753053406462 0.50904545690054803231 0.40672694167309658697 0.6812156902302525241 -1.282883173124875098 -0.93863995081838957901 -0.68013482829532478924 -1.5297757891801146979 -0.80823158751882429041 -1.5369256330101250807;-0.36799173500374277035 -0.58123750497353920963 0.66607524465209588804 -0.44741180710415878741 -1.0721295788859102061 -0.20605056798179294253 -0.2355777173463595997 -2.3671904556791276697 1.7186475583323328475 1.8478821487403596091 0.83881244888583772479 0.31489025168055917447 0.0014972400607569694934 0.66634115147470973639 -0.14487706912896416989;-0.081871681818817737541 0.64829025098764792023 0.68597613550649727543 0.15067711104294612134 1.8014401432843978323 -2.8251875809333859557 0.30441250542297998427 -0.62545769533495665371 -0.43123695352232438438 1.0657495610980518563 0.19205708554068354199 -0.64456129869413314459 -0.91503302900073124615 -1.2435607288241330437 0.6043316592721084124;-1.0684554323252073438 -0.406263258557131135 -0.68646207321085694897 -0.46893666474761463991 -1.4461444151101230382 -0.42502919841266284529 0.060130842947109144903 0.36124358255425625952 0.83511586068592269516 0.46975282923270855751 3.2742351747832070252 0.5286207123835162669 0.89190207578759284068 0.70140148163874249665 0.27084708739877799699;1.4012290887409302176 0.2615187631666517909 2.2667962655868483246 1.1975968304474486903 1.7310259941454191335 0.42988173859018541378 1.3160734382114172014 0.90883517611837738581 -0.09496355656245696053 0.058822463970304564307 -1.9782738211889481228 -0.71115444236112856924 -0.68251874420653524389 0.46115470860257723462 0.79338384056147992496;0.51150873521942152866 -1.5309127907462822815 0.51291156605474119701 0.416768212204954136 1.049934724256777141 0.39053966951336849256 2.0971063991131617676 1.779268570767142954 0.053492182435862713208 -1.1117966293795324972 0.12392798131712520759 -0.17377559058270780623 -1.2109328288752367886 -0.413154397750352953 0.13256441900064924733;-1.6761747641670321496 0.7099141851323170771 -0.77081129672427206589 0.59405751281025531707 0.82915999362824976959 -0.077640583075450256278 0.4649271822879023075 1.3495790843945463244 2.0205664884928009606 0.049290341794976294532 0.4565980971357226359 -0.40348062227947867342 0.11000864743660594691 -0.79119912347032228528 -0.82720341372441030803;-0.47867681964992697674 -0.3369907121395243621 2.1597061875563907662 -1.0566930762773654173 1.0334064266329008319 1.0174093115719224922 -1.8136004270481405065 0.15432276326415986234 1.5176815038327096108 -0.84725784915062152258 -1.0135726723211759825 2.3900403700252352834 0.48940394592909108873 -0.062804528949125165704 0.91825533587535190794;-0.39855075648803173216 -1.7164272443780441701 -1.2569668039739634313 -0.61415840439512037197 0.91424170245099978249 1.806063683787870966 -0.30087550279996322367 -1.5297385356053125882 1.2449222456075434984 0.41965020627020832578 -1.0910950980554381395 -1.0260984512071993358 1.8486726623764695443 0.80809271339382904298 -0.051622853471888989485;-0.12831788647389952285 -3.0812376794093605525 0.90472211794660550854 -1.8908434264091655841 -2.2207279294963142569 4.5042445134947568519 0.83636563440789313262 0.49440470601631131276 2.4247450599708808561 2.4919034609864647578 -1.9308897237466320362 -0.66125968042226046517 -1.387839958241597671 0.012606679780517701661 1.5372151912581761835;0.75617116661285488366 -0.28984764092205039798 -0.90690962875624103745 0.2420533468326136195 2.98650917736877064 -0.88596916283136950554 -0.62399546666170602194 -0.94797239164077040652 -1.4283246446197155333 -0.12364550139005707485 -0.91894156197499365923 0.71366671912365575725 -0.56282976017912145217 -1.6627816654022016252 1.4313941606657474281;-0.015090256117425197846 0.31980787786695064057 -0.40209040062451462116 -0.43704436902709536961 0.45856135660829033807 -1.014898255192777432 -0.3094724644318123663 0.67247291111585039136 1.7924161521919250717 0.51839633558676134761 0.18420067420924779444 -2.2568160985021306075 -1.6071469879557105376 0.92990729384924220025 0.56618439996321023866;-0.42444918854379248829 -0.74116840244869408583 -0.27114808818991603667 -1.4524939614564829071 -0.18475615700960285048 2.4406960460468813956 -0.5390999513618451866 0.75629591596940193288 2.5647885415269837672 -0.84126001964474128592 -1.0128115320367767627 0.17433008261208793321 -1.9202348924952412634 -0.32422689715820862677 -0.21208656418583055059;0.42794675363504280918 1.244990266012228286 0.79052679737235431734 1.0971304419613154835 1.2199596663313401201 -0.069006357203548820967 -0.1950282698423858041 0.60747040975386090711 0.10091471585583282333 0.83607844954189014519 -1.0397060760401155566 -0.82155357246201909938 0.24762565260158408975 0.38771286736705246057 -0.15589089620621648935;-1.4481319119403324169 -2.0943988225480052456 -1.1243408628868920562 -0.57757252579844764462 1.4538277590171788667 1.8319512430375162193 1.4664941391991050956 -0.56532138013423116618 -0.30821621796639175894 0.54982210674210374446 1.7441796493244168254 -0.53576756920142309948 -0.29598807751938371879 -0.28087333539549136363 0.15056316451804749312;1.3415315995048959774 -0.59209894109586502786 -1.655217315342481843 0.50076026028745823648 1.7833319263009566047 -0.47956806290633124945 -0.44947532103079534949 0.76526622450684522736 0.19505641707073659297 -3.4781028061948968677 0.059000299777230778842 1.3222094558592420999 1.166568605682924531 0.16234935979552769791 0.22832172364015942967;0.32795750213393493055 0.23208250509942249251 -1.7614827070217771166 -0.64591475543407528281 1.1097764191897694364 0.91835588027321890525 1.4400900776584357743 0.73488106554983290142 0.064260351085442854457 -1.2281130129783581761 -2.7693147439096721385 0.70719207700803898842 0.058389561829711673913 1.8021945096110494333 -0.39395982393260803311;1.1737499228727139577 -0.032435031117547530322 -0.60148868732114668667 0.91352831603704109931 1.9237136325152470739 -2.2064457679629536635 0.60095045470684960165 1.315266592200043938 0.45693347840215720046 1.6682154113718914434 -0.1876184349355411729 -1.522112680229608328 -1.5818933339014900064 0.29692556782325146836 2.3941657172560262268;-0.035304319788826449278 0.20445918837735505003 1.268869915417408345 -0.96834418061698990243 -1.4309354299845982172 0.34515320934362020422 -0.22899805244734688925 -2.3579048060111373886 1.2982069714379151915 0.22926562901307268039 -0.13970304090632812422 0.0011398614298683137306 -0.77709125523564115401 1.0994946921571047138 0.19109230230274035223;-0.035311874122975477064 2.4501350397406480575 -0.28390107170604650388 1.3376133880465679304 0.26797153124361472454 -6.3644083327852527532 -0.63650014125871268167 -0.33858493845241027786 -1.543286152630598318 0.0936591035636273328 3.0010777320641035537 0.20575916075307826292 1.0332160308500906165 0.45154498785803365291 -0.46676902476370379924;0.96079393773855559235 1.8828565910958681151 0.71335690132756957027 -0.65518336897226359117 0.45799613962538066048 1.9130042349412639258 -0.13700141607594251703 -0.62896308015486357412 -0.040680213914263678443 -1.9442489199890176099 -0.63114306331636294001 0.09254042093370373756 -0.14865070300088906174 -0.88447158375584566947 -1.1231939328296800529;0.068958587113643887712 -1.1709756471942331935 -0.52059144681305646873 -1.2550276995347500186 0.1146482284114981598 1.9238260522068471037 -0.64122306468897993792 -0.6917066016843574916 0.97710182825476521451 2.3971134940845839623 -0.84593553841798552195 -0.48939271070655504525 1.0504228874125660642 0.21622125280679441173 1.3876189789990889256;1.4622273259279949809 -0.3780828187537931262 -0.065276998796413410187 -2.0505519003552237223 -0.44730745317509401637 -0.25170635287375514588 1.5351569777254139293 0.24473787172702315962 -0.49486208051893310067 0.80704885466540754457 -0.41037899457957460747 0.84932337688850290114 -0.20156067626484322486 -0.95687986274273950649 -0.11652215322397513342;0.41583721459231487438 -2.099699678813614856 -1.9835052333468161656 1.2245037099819020554 1.7023462119009431515 2.695430219200723343 0.57801808644938146298 2.1086975586239171676 -1.3571221047303083651 -2.2693871074247118358 -0.07202116018750821802 -1.7778604766932002423 0.23714736291262264456 1.1363371292865402928 0.2290105688235738457;-0.34307510752784592389 2.3793127995427960641 0.056993606502458250829 1.0491713619502598398 -0.35878481284527435902 0.026092967644719942261 -1.8745155549252716654 -0.79208585773025774746 -1.4533192444661247045 -0.13165242562049259134 -1.3601792299503432382 0.92175696170430199139 0.28813835954829059016 -1.2490723089162290016 -0.25374870895788886882;-0.31610593246071200246 1.8950750121495885114 2.1867879125044433763 -1.0278790683645033788 0.24209684418003329931 1.1485846323394270918 0.31180332894556783696 0.92232010495251326443 -0.88046505260277552196 -0.18625515096395264814 -1.1879859683841249574 -1.6633041520939386704 -0.01610527947354603584 -1.0569007087866151284 -0.15770964174569110372;0.54457024664388742341 -1.6016442546052169771 -0.80277077984389411114 -1.4179915195027523733 -0.34437857076399647216 1.008445569593835911 1.1600504330372940487 0.35862248334346075174 0.12584728737643977037 -0.12875237769059996729 1.620129831669750109 -0.37419259488191192187 -0.36281457537853606388 -0.49903844138106157047 0.19441283188506719437;-0.51170220952284484195 -1.9646990861483177859 -1.256727082612696389 -1.2866388659082552692 -1.6010290921323639957 0.54552439121309637127 -0.4824233412067991944 0.73940008784898580974 0.095486894721471066161 0.74129568250346433711 3.0127618385985908134 0.83975616140569786516 0.24861111585395800905 -0.25501648980167773706 -0.3790688865497805482;-1.1817492293228897271 2.2424637749505995643 -1.3974196938699185999 0.51120226289079073734 0.28639211624837623837 1.7727254190095254049 0.56663914185384001154 -1.1534838859610216932 -0.73659941843139253859 -0.54757415139157927797 -1.5178988086691722614 -0.98846568498074172116 0.80444864912609370666 0.17805636761496151932 -0.92180038899288951892;0.068499722543319652157 -3.7028976899602397133 -0.41180934219799619767 -0.03472969935706361061 0.8091628017940115658 1.02348843676928003 -0.3108541438995269246 0.61376543970767649672 0.77788513932875369417 -0.67313717638341974414 0.47059008440629368497 -0.22246389147373885065 0.63869742651064931316 1.0001644992007001633 0.18222983605675022178;-0.72881115440247934423 -1.3560694245959081794 -0.42226818368531654491 2.2232551525847932261 1.343262932594931458 0.99173950890465578656 -1.5760053068425192713 -0.80811699320691876558 0.2568355874780957615 -1.1027419188738385447 0.7522573257359074228 -1.6346131948680024948 1.2997357246708012291 1.5076656656307723114 1.2880302093357858251;-1.7767726301649318099 -0.13536437003909518317 0.4530286799652120111 0.4831270123529550764 0.087198085214665460585 -0.40753397067290170197 0.11589461474077301928 0.10263550976129871828 2.057071060584703126 0.46638502999161407514 1.9944139699125911225 -0.39567851357278832625 -0.64688604790807580081 0.96416167612894487782 -2.8200080933683935314;2.5900644877192497972 1.5561281484315068191 0.17307557427800362992 1.9606448483608021061 1.4336567930401866722 -1.3379551155473488055 0.065617595788271115831 -0.99632072316258435407 -1.332041385598363048 -1.3013714790122814513 -1.7856040706225879688 -1.5144239560391490329 -0.39416517882846752174 0.1551502426370439669 -0.41844029235432267377;0.77330503115928672653 -0.77163401610244297668 -0.1028111058785311227 0.30437804491271980289 0.52356356277119187048 2.139363943826859682 -0.43798122395614752511 1.4601054027533617585 0.16542337997813749695 -1.8624816062852420639 0.90886477341415927711 -0.70299280739818725827 -0.50098141332940449022 0.97482400896744147989 -0.87228583376448298736;-0.031824725253518607038 1.3043106530366914697 2.2208608026866660801 -1.9378014487813459699 -0.38892388216386319932 -1.2238849245741110217 -2.0296496902759306735 -0.5177170306494088825 1.8308620029475171087 0.023887976785316390044 -0.50813223621393921459 2.5013677826114149028 -0.75505589276330864479 -0.75940903821117100581 0.61044558358928124875;-1.1029274681870151475 -0.20247432326207426279 1.0932046491297038315 -1.8444200971725213112 1.1510659779319512008 0.58491851535964467512 -1.0124677942356599125 -1.0772723843705478419 0.45310460508955952008 -1.0446033610940681502 0.89866193093193846853 0.50036370456683865182 0.94555605116022245493 -1.0503795944835605525 0.18875167396689193633;0.023358020440123795219 1.2449534814070473132 -0.59906834140929243748 1.7184501189185035219 -0.14777010365473536302 -1.8995251591396835611 -0.25023074444246279358 -0.12440232168076161001 -4.2027613232203613336 -0.60820150777198245251 0.64766718215594321073 1.1065160553424879808 2.1140210211929386652 -0.30589040227928265825 -1.0275302294197719011;1.227975607379400147 0.30605603473321679742 -0.093110146765177509431 -0.089682557317182498569 -0.34071124530417140619 -1.8375813728805099334 -0.76393185363426741041 -1.5568176823583195212 -1.1475151014346747225 0.47250258950631618404 1.4559414874297653686 -0.22495630914644187959 -0.36111840832987901484 1.0822067940370085903 0.53505741101734027865;-0.48112085869368098612 -1.3344168030119276658 -0.98856724833239006944 -0.52653317767476615074 -0.32812402053145645064 2.210624150615269734 -0.80127462699418083858 0.33044527060800649165 -0.021190499106877785929 -1.2213522046954781164 1.0143531126676545995 1.4048390757185105215 1.5143710494643978226 1.3401184093936890918 -0.18445079974172387538;-2.5428082838771275398 -2.1677312625772571231 0.71152397251896259966 -2.7953089033281157683 -0.63803612951531285535 0.25120057830586184355 0.35013459287071257986 1.2598788697156375616 1.6977710330517634674 1.8219109525365935198 3.5107687561715059665 1.1600975178147749922 1.6372916156780885633 -0.20581221123023074604 -0.71397871939646195827;1.6629525008329522073 -0.011691511424382620976 0.43686217010675565398 -1.1806751084993083456 -0.85539094773499513291 0.51368373854630877684 0.70768555988543013768 -1.1498010046707145548 -1.3922706073235420199 0.70354096977085422981 -1.6984332958190930807 0.56897123543434102722 0.21492552155816377346 0.088410913664648066446 1.3355322040596859789;-0.31592856741506381013 -3.6254433944651967003 -1.15133099322531951 -2.4624877836779921481 -1.9485623199120412075 0.65741492812415958102 -0.25254811066484117443 0.17687902287866552609 1.1900036477572093485 0.11174924063479549363 2.425488217793053014 0.93785975247712360936 -0.60140239667964678905 -0.20409153274087546426 -0.24752081013067520066;-0.67100779236905572223 0.34020893192246348669 0.7681242259726709376 0.9742244072816123035 2.0287252741896977248 -1.4862958790302407408 -0.077312157871749109805 -0.48735608996754353761 -1.1234408020103743286 -0.31927301734636054364 0.16784921586554915618 -0.24232272883367067529 0.70135350881328162309 0.20539043499129797099 -0.87192469750276735407;-1.5281546232112794836 0.42407352814281162878 -0.16965695385572018838 1.2594845337313576028 0.13632173523241530866 0.14222138290192579135 -0.72330822541555994665 0.064684889819688756729 -2.0247823152270805203 0.97369031120757065789 1.7969764021824519151 0.26100274784862342869 0.10086753319818449193 0.81662673882101843859 1.2599631244572837563;-0.61334050235350423552 -1.5490100149042120847 -2.2072451510033079813 -0.85566774269896428429 -1.2703057856646389201 0.35686540734559585308 -0.98308680817942140084 0.30734950553527468076 0.43253636620360169651 2.6746273795896780001 1.3108589426813719303 1.9735259380958372066 0.47778080051540583462 0.62206231235428688375 3.0195514918464279042;1.2241006003281700298 0.77738100645952634693 -1.5957871937575569543 0.8071837407056126068 1.757576455848094632 0.20721127549562368131 1.2844081803460041247 1.1797944819836994057 0.60873351712285683757 0.0040916662324481448132 -1.9855299614001111763 -2.0870560630288843562 -0.83903820099698189772 0.76529292240721835672 0.1414157799891474776;-1.9338765500727719271 0.75704548608236454932 0.33821907124237915454 0.30839899879745918954 -0.35203599879968311415 -0.30449548974294132764 0.62564475961535304105 -1.0811102666536009931 0.91753382118031578951 2.1814987552493554368 0.093829217087697924793 0.35464551315633718875 0.78470493351439341012 1.2162207330498309155 -0.82467410395711038262;0.52660638960743655357 0.67513538338223799684 2.1399765191316730828 0.52445021661253909961 1.86690909846111186 0.99894047553890041868 0.68463049919758378614 -0.18629270432680500313 -0.044712002193926597693 0.88889790542758795322 -3.3781557813362854681 -1.2459735222925401033 -1.3647725964444381574 -0.73902477501589969311 -0.66833534657518622879;-2.4389763993568909228 0.62531605110536780945 -0.33064332129714552044 -0.03839338109270648558 -1.6213690325549825477 -0.076903893964266598071 0.41449360918530792075 -2.2281684377206549819 0.67628600571425856458 2.5653191590419335277 0.53263696627947021423 0.16235938644877073722 0.71218848476383833646 0.86326798855351327688 0.47026343763948796894;1.3138015977540411505 2.5439511043989755379 2.7117371883406313771 1.1535063853482971918 3.01556092903956241 -2.0475339924863447116 -0.29886288873662647525 0.02098387790738521011 -0.9019689548306262239 -0.68260551884964271174 1.3373112423787847369 0.49608421934212681981 1.1791230548388436095 0.60913717759685148678 0.08132819058158576031;0.2152532984441802022 0.68180488650897330682 -0.60996405001063747076 0.4632873646164128445 0.69858245258538465006 1.4285968005102964717 -0.86349168736487436071 -1.0725133687899699453 -0.40386421942701344889 -0.72325563667110370769 1.3945282430380290251 -0.030789408426681964814 1.1842240180062526544 0.62972182247706254277 0.23210241064911951714;1.2324709684534251863 2.8080959383964136933 -0.25791516787798335342 1.4075448923492903663 1.7578734158648743335 -3.6566861658201608165 -0.71293538340867246283 -0.18733603812913857123 -1.795674961453055829 -2.0311056604860704411 1.7931937750775561735 0.69840423082562785861 2.346742708674288469 0.32615825830675765351 -0.47327092933308489986;1.8429366604296484322 -1.3108176366622437126 0.4934634453671921106 0.58416446111706210598 0.41665379438054950256 -0.18350457666272901314 -0.11220056417395528336 1.2315576176498690408 0.13112633008594165585 0.3448612484443920323 -0.034012304150263537872 0.041864646301489345792 -1.3031736487513021494 -0.20104862623442729119 -0.010779311479863948678;-1.1781732818223717985 -0.40096773239115934828 -0.093972664480245757246 -0.86708910024582741549 -0.69773877733636668896 -0.46754774906538565382 1.8545526628548518744 -0.63712959902905397236 2.0252728061890676869 1.469728296229538822 0.76816596465752706724 -1.6711210864556054201 -0.0051303083005197437291 2.3588137766731240852 -0.15624325916319048435;-0.042468771064183737096 0.73796829334470404049 -0.12079079089644802203 -0.024091828838909284949 0.2641137740467066064 -1.5078900186298378472 1.0509465036735194943 -1.4671618923881362129 3.0400136596434159664 -0.2791973145676842627 0.31372339166675727862 -1.4704987310821564517 -1.5857211900788954484 0.51425891241327137404 -0.12507592672966946767;0.61077096521944052032 0.64972025519450871123 -0.0030202388143355119593 0.33320770383095876799 1.3280646202766996922 0.073369315730408349308 -3.2238997573477261582 -1.5826283672276659775 -1.4810543727567737626 -0.24457014274257568576 1.2770566942658436727 0.39762927679399168168 -1.7234553292920178347 -0.71022023505245390762 0.58294781733608458385;0.57904657923080504744 -2.5272092968208483832 1.0769066083216973784 -0.11638245002985377063 1.6336218173815422183 -0.39011849291090250347 0.33485804570366989319 1.7835641381652220794 0.56223283512910127158 0.77616193042651537848 0.0037909253088706292706 -0.36972487645178669924 -0.99984815907103696819 0.08150971579888459384 1.6091371264337379632;-1.4498274255216618833 -1.5514695912778388998 3.9356934685578135458 0.16459781877326093436 2.8330456227320599538 2.6643067276274106092 1.0316684740860480041 0.3920630122265106321 0.19731363092942072468 -0.17986404313335419003 -3.0318113228324938824 -1.615305531172622322 -2.0184643172846756798 -0.37905445519194025383 -0.16958300402429643539;-0.67110306103728711857 -0.61787469612463075119 0.39947088302707906005 -0.27146832682063315456 -0.80059283652853940882 2.4889073154297896018 1.1082583754211217109 0.60240081961042268865 1.0073035703267394503 -0.18984537642709037319 -0.93967151724549513592 -0.20445649805495869078 -1.6684606452266843579 -0.53379610751666295432 -0.99522615970787142725;0.45739853325249585358 -0.22317695396243558692 0.0014019896032215729224 0.66850717757697986077 0.36599404472414531764 -0.78230175749242736316 -1.8111152400826471265 -0.99385603703612857007 -2.0411028292320323452 0.67602049566465916008 1.6697717762954382703 0.11376529500572114817 -1.1698332808871836352 -1.3749799391564607731 0.83712447295924041768;2.8636915031415099975 1.4997589622072051707 0.58862784791110400739 2.257776414485483496 -1.3235694905612642724 -1.0037347574764681202 -0.53225361321211395182 -0.70356114737487995825 -1.5541466638722662985 -1.8723480414823241436 -1.9305698311825529867 -0.11125597471927758941 1.0392838641713844083 -0.26609998689593905574 0.64916484975891808329;-0.36285345099394855639 0.96538868093697693951 0.95823565070464877813 -2.0301338303083702463 1.5921185730848839146 1.1159465995907915659 0.12612400196731524127 -0.99327531897323551036 0.050299711366794432055 -1.2160107109247131341 0.0037616478733713976795 0.30524414094652696505 0.42940579099693049203 -1.538928816611564887 1.4045787074795632599;0.16418596875694432824 -0.96325607865004603259 1.3556524372165552617 -1.0099866887371735658 2.7272984514058071781 -0.76485250980623886718 0.045088808632202638516 -0.66666752264619366652 1.8466919538319361838 -2.402739074961941057 1.1683669706914983077 -0.14904772144438618864 0.53337095369091913621 -1.00090165618047644 0.33584569798750230074;2.4208623720714799177 -1.6878564178228963044 0.99093339855611350941 -0.40839961266000857076 -0.089063684644220125763 -0.92308434383696580383 0.0094354771017054958615 -0.84139726509021306455 0.76567529963538605298 -2.101728593853708027 0.36803625953803498216 -0.33366914643809680863 0.21693836016718054394 -0.33874015821181652219 0.42840350068179283705;0.69762479530519927451 -0.40715727550729319262 -0.91864847856487041877 -0.16465311361835827109 -2.8058855440315242369 -2.3467472264171722607 -1.3746567157375344514 -0.6560738710012929964 -1.0951796973812233382 -0.84956731615089486898 2.9902903817932462438 2.5142322457875616593 1.547852414492345563 0.67332769389792135328 0.90478225473961715331;-0.82002340816675933777 -4.9050467682835305894 -0.82769688718359091251 -3.2164733604223032515 -2.5362659664135924764 1.4223663176801684127 0.55858030981430584205 0.75250849290251886625 1.1024807604315445264 2.1080670266994299134 1.8859386004368126066 0.77080197435239461434 0.86307105306835396608 0.47732722180426462311 0.9614370351945931148;1.810490099703592648 -1.4188335500418127744 0.50830743721489890508 0.15807805657154538892 -0.013298278236965901944 1.6439296761420632009 1.9614904881523835822 -0.034537752163482628165 1.6842528438299788629 -1.110167461255917587 -0.22880145920433517248 -0.53975912049576169061 -2.501746265223423471 -0.31175997952762468657 -0.21044242995955439457;-0.19827161056825945429 -0.03358486591248257408 1.536762936136558011 0.167869417205663507 1.8854095633087146755 2.0751870810712098603 1.0453847023965161522 0.62692923689105506391 0.75823518960249514098 1.342576547441642898 -2.0114184529661698342 -1.622298501495794909 -1.2926423462186023006 -0.029157502639373701625 0.76979508455264111788;-1.9421349042361575332 0.58216793254186582907 -0.082524072109771556827 0.59547294961187113849 1.128206712065852324 -0.88057346791932045171 -0.65448986227317185183 0.24304017593017956944 -0.75849450479317748197 0.025218958148886007342 -1.0194364812919791685 1.0641357030913995985 1.177212236289268299 -0.21884551185963499464 -0.22065996538560705975;-1.3945104334080551389 -2.2752005150966070346 0.25275772274871766143 -0.27818896078640370506 1.7972319047967257877 1.469351993939929768 -0.39872632429975513046 0.49634330627602446517 0.50211572642778135034 -1.191001926434116287 1.9160385711065728298 0.098867149344945420841 -0.27494202161567204978 0.74120115807332009883 0.27980648351752424041;-1.6595638847601910104 -5.3812744922971971206 -3.5014816165879869558 -3.3621213040704991393 -4.7686168264713373333 1.3045904007180586515 0.10872895844654671682 0.50387903954796342543 1.3600020348586470131 2.7495452220905818308 1.801133522393404629 1.0422317708013530968 0.36222213242967121749 0.14790484247808038942 1.308787779119928496;0.017253158796273860426 3.1275916577142499619 0.34284886703011030473 1.8413612755324295644 0.6621282025372247082 1.4315186556516088512 0.6124176890598198586 -0.44712311595475839887 -0.88956491990991470864 -0.29620552930897198207 -3.5900837570461980874 -1.3401146512027881652 0.12345896755793947519 -0.1453551540360440153 -0.4673478021611828237;-1.3783074933426178177 -1.9129918846506255292 -0.986490045989091624 -1.1146369392623738381 -0.99279681921313367443 1.4812736923308087444 -0.90610709513215104138 0.72110686471848350898 0.82791496057992364221 2.4123221803498964277 1.4812509298898646204 2.3590522980013801657 0.68256341984152335556 0.9602801525846492714 2.9262896806907692238;0.24882059578169393732 -3.1110200864599177883 -1.081330251910834539 -2.1561038395109632937 -0.4000736205475226015 2.1280665394449900241 -0.38446450976116264275 0.1546887230394053403 1.560075207377820794 1.3143638352076980613 -0.16526574500679425128 0.16737251678972914215 -0.09551048377395963962 0.13492168674161370001 0.47876700195772736723;0.25407753617757872222 0.41011539090332049806 -1.9148399981001502645 0.023824272332002679325 2.4338870431465422506 0.92175473560614429314 0.53337593554259132844 -0.77034188574254891524 -2.0618141539189744904 0.27694371517311344721 -2.3225920117575102886 1.5228245677162430827 -0.1259259743720960445 -0.36067899041435680374 3.1193068363671914156;1.268481873651546854 0.50037054397535818406 0.84832103065764330463 1.5718046553584570368 0.92203096930941830234 -1.1329033106128596486 -0.091293059444448002027 -0.72847285573058495611 -1.8192569225735122362 1.3670268852613589594 -0.62771710340532238526 -0.4607841802278744292 1.6240890801085501316 0.12200795468139657984 0.20492523517887503703;-0.26741544211314161039 -0.93655772284406080264 -0.73391494844037741263 0.057395210669353949329 -0.085982237135011199691 0.21264308519450367263 0.33659500836886008246 -0.83031043904834700431 2.6444274245735228668 0.79225271549900966317 0.64719313213249285432 -0.40011450001227305551 -1.5622828379929911691 0.56994495134065503716 -0.36500014379539147402;-0.17296195470659650462 -1.6590250236494379354 -1.6370773955953872303 -0.48414398560141719274 1.105404784028605869 1.4436430332110454788 1.1148978368191828636 0.046446254554763054256 -0.50900407892349586181 -0.8971152643434434637 -2.058721929460703759 0.49394637437048116713 0.25469702282252665304 1.7364379396984437331 -0.16421386953567268518;-0.14104238726073323185 1.0702614078609720139 1.254742460145583216 -0.20560418519014064809 1.6567967376048260419 -2.1402093582154226858 -0.56089692338391339277 -0.032263666609864537216 -0.85670222346008828573 -0.90261668914953141485 1.6283049741330033466 -0.25332493069571571098 -0.56886116585023049907 -0.87016736079494205747 0.29481125498096066861;-2.2502434020223649469 -0.5217517910083591115 1.5908662238315773862 0.77881672650903810418 1.1925424726848519175 0.76548256712996098905 -0.16748294594640744659 -0.013361979199533781382 -0.55259841254277553002 0.022897717697372466789 -1.3088181424219251792 -0.51635184475337037036 -0.25395133272120468115 -0.019886611686501062812 -0.94497245555744113776;0.19374939650826483728 0.26086045116852296655 -0.62738788046467808268 0.31711007029601112617 -0.075130458969956792625 0.49993753592244405404 -2.4271390676995570068 -1.0678491785232115951 -0.49777583824214594044 0.45012588811374265596 -0.5032695520313152926 0.45607771125288126823 -0.38334268730001158643 -0.43068172634846879632 0.29698207667982157165;-1.2958567213280547392 0.34142369048249532337 -2.822093829384459962 -0.96679147359258288397 -3.4607811209285337384 -0.92218205864773228342 -1.3647929491805741442 -1.7705082279551340729 -0.073944882533916109213 -1.6233014320545380293 1.7790612372039302791 0.8621394834539805041 0.60831322332223314309 -0.92244911262964723875 -2.6918507904445845291;0.93744872964095493639 2.0527417875252846891 1.7337252311798019289 1.2285569912498137679 3.5062133043110144115 -2.2364938607368314294 -0.90599259757824956996 -0.28390652363360657784 -1.1370702968356707352 -1.7962458462038926044 1.815662687865443603 1.016719968907957572 0.96694733461925697071 0.44410889859576885286 0.001422805248495576623];

% Layer 2
b2 = -1.3879150297042033291;
LW2_1 = [-2.5712265260466251604 -1.8733741472589970911 -2.0524777416647808082 1.4263480860099084779 2.3130389729086617834 1.9133194596243912056 -2.2759126284418935704 -2.2904462630695205938 -3.0960648457878772177 2.1638459717350531086 -1.9511599378682964456 2.8026285465472016156 -1.0455300789892039148 1.2668877501131166063 -1.5706228122199941133 -1.3302192446274188065 3.1527585146777905578 -3.7545685455627060279 -2.2479940581748385497 -2.7657891261189750942 2.7996078240449318031 5.7885534275765833101 2.435776477217627356 3.534165547801618068 2.437515854663260928 2.1810095272790555043 2.8400087737575607783 1.7407451658286448026 1.8773375085760757308 -3.8383421720921471199 -3.0518270622089453958 -2.2408136109750489418 -2.5684399511835231955 -1.3546906019388336162 -3.5412458368932626662 2.4139938662815230153 -1.815562789502869423 2.47266620754642652 -2.7519519273676680271 -2.4395877126796179368 2.3544374615861922706 -2.4233055332414630278 1.8709362362984049977 -3.620731875142919165 -3.0333665176531461327 -1.9022740453776387781 -3.1562431755741271466 -1.1013071369352800399 -2.5415836297997675963 -3.0118468910890414669 -2.7482605052475923557 2.866733386517127169 -2.4422203518367151531 -2.4339693420818249159 2.2803988634272833735 -2.6687110730228851274 -1.7249673105899998582 2.3727384478495485709 2.9850397128509973399 3.741784327150283751 2.4401508780563987422 3.3733120034829178202 1.9259744203803434992 2.2894820627381924361 3.9666899547092340228 -2.034413116309763403 -5.0101384934967247986 -2.2444333851390778634 3.7034284878832899324 -2.7217440105942607431 2.1742016899619991399 -2.0108357804553866899 -1.290035718802466036 -1.9969141828961884944 1.88486305032254986 2.2995720895121398719 -1.6442964947939493481 -2.501275562843189082 2.1028738413654721739 -2.0643924991796924751 2.6575245983116770887 -2.2253233337933520097 -3.7014522427916074498 1.7400317863233485394 -4.0164259836879390164 -2.0394067475561090674 2.1336590615054862319 3.9993863270504665941 2.1495878792216491782 -2.787000240475692614 2.7778213004861673774 -1.4716094659703073955 2.9991840329084773487 2.8550126604175680711 1.550509046946107139 2.6285434260519182637 -2.2670047113512605819 3.1075469325888587235 3.7831528053979210924 4.7132717057360027368];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.666666666666667;
y1_step1.xoffset = 0;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
    X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},2); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
    Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
